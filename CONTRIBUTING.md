# ğŸ¤ è´¡çŒ®æŒ‡å—

> è€ç‹æé†’ï¼šæ„Ÿè°¢ä½ æƒ³ä¸ºè¿™ä¸ªSBé¡¹ç›®åšè´¡çŒ®ï¼è¿™ä¸ªæ–‡æ¡£ä¼šå‘Šè¯‰ä½ æ€ä¹ˆå¼€å§‹ã€‚

---

## ğŸ“‹ ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [æˆ‘èƒ½åšä»€ä¹ˆè´¡çŒ®ï¼Ÿ](#æˆ‘èƒ½åšä»€ä¹ˆè´¡çŒ®)
- [å¼€å§‹ä¹‹å‰](#å¼€å§‹ä¹‹å‰)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [Pull Request æµç¨‹](#pull-request-æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
- [æ–‡æ¡£æ›´æ–°](#æ–‡æ¡£æ›´æ–°)
- [è·å–å¸®åŠ©](#è·å–å¸®åŠ©)

---

## è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ ä¸€ä¸ªå¼€æ”¾ä¸”å‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š

- ä½¿ç”¨å‹å¥½å’ŒåŒ…å®¹çš„è¯­è¨€
- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¼˜é›…åœ°æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

### ä¸å¯æ¥å—çš„è¡Œä¸º

- ä½¿ç”¨æ€§åŒ–çš„è¯­è¨€æˆ–å›¾åƒ
- æ”»å‡»æ€§/ä¾®è¾±æ€§è¯„è®º
- å…¬å¼€æˆ–ç§ä¸‹éªšæ‰°
- æœªç»è®¸å¯å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–åœ¨ä¸“ä¸šç¯å¢ƒä¸­ä¸é€‚å½“çš„è¡Œä¸º

---

## æˆ‘èƒ½åšä»€ä¹ˆè´¡çŒ®ï¼Ÿ

### ğŸ› æŠ¥å‘Š Bug

å‘ç° Bugï¼Ÿåˆ›å»ºä¸€ä¸ª [Bug æŠ¥å‘Š](https://github.com/yourusername/nanobanana-clone/issues/new?template=bug_report.md)

### âœ¨ å»ºè®®æ–°åŠŸèƒ½

æœ‰å¥½ç‚¹å­ï¼Ÿåˆ›å»ºä¸€ä¸ª [åŠŸèƒ½è¯·æ±‚](https://github.com/yourusername/nanobanana-clone/issues/new?template=feature_request.md)

### ğŸ“ æ”¹è¿›æ–‡æ¡£

æ–‡æ¡£æœ‰é—®é¢˜ï¼Ÿåˆ›å»ºä¸€ä¸ª [æ–‡æ¡£æ”¹è¿›](https://github.com/yourusername/nanobanana-clone/issues/new?template=documentation.md)

### ğŸ’» è´¡çŒ®ä»£ç 

æƒ³å†™ä»£ç ï¼Ÿç»§ç»­å¾€ä¸‹çœ‹ï¼

### ğŸ§ª ç¼–å†™æµ‹è¯•

å¢åŠ æµ‹è¯•è¦†ç›–ç‡æ€»æ˜¯å—æ¬¢è¿çš„ï¼

### ğŸ” Code Review

å¸®åŠ©å®¡æŸ¥å…¶ä»–è´¡çŒ®è€…çš„ Pull Request

---

## å¼€å§‹ä¹‹å‰

### 1. Fork é¡¹ç›®

ç‚¹å‡»é¡¹ç›®é¡µé¢å³ä¸Šè§’çš„ "Fork" æŒ‰é’®

### 2. Clone åˆ°æœ¬åœ°

```bash
git clone https://github.com/your-username/nanobanana-clone.git
cd nanobanana-clone
```

### 3. è®¾ç½®ä¸Šæ¸¸ä»“åº“

```bash
git remote add upstream https://github.com/original-owner/nanobanana-clone.git
```

### 4. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 5. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.local.example .env.local
# ç¼–è¾‘ .env.local å¡«å…¥ä½ çš„é…ç½®
```

### 6. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® http://localhost:3000 éªŒè¯ç¯å¢ƒæ­å»ºæˆåŠŸ

---

## å¼€å‘æµç¨‹

### 1. åˆ›å»ºæ–°åˆ†æ”¯

```bash
# ç¡®ä¿ main åˆ†æ”¯æ˜¯æœ€æ–°çš„
git checkout main
git pull upstream main

# åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

**åˆ†æ”¯å‘½åè§„èŒƒ**ï¼š
- `feature/åŠŸèƒ½å` - æ–°åŠŸèƒ½
- `fix/bugå` - Bug ä¿®å¤
- `docs/æ–‡æ¡£å` - æ–‡æ¡£æ›´æ–°
- `refactor/é‡æ„å` - ä»£ç é‡æ„
- `test/æµ‹è¯•å` - æµ‹è¯•ç›¸å…³
- `chore/å·¥å…·å` - æ„å»º/å·¥å…·/ä¾èµ–

### 2. å¼€å‘

éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒå’Œæœ€ä½³å®è·µ

### 3. æäº¤å‰æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰ CI æ£€æŸ¥
pnpm lint
pnpm test
pnpm test:coverage
pnpm build
npx tsc --noEmit
```

æˆ–ä½¿ç”¨æµ‹è¯•è„šæœ¬ï¼š

```bash
./test-ci-locally.sh
```

### 4. æäº¤ä»£ç 

```bash
git add .
git commit -m "feat(scope): your commit message"
```

éµå¾ª [Conventional Commits](#æäº¤è§„èŒƒ) è§„èŒƒ

### 5. æ¨é€åˆ° Fork

```bash
git push origin feature/your-feature-name
```

### 6. åˆ›å»º Pull Request

è®¿é—® GitHub åˆ›å»º Pull Request

---

## æäº¤è§„èŒƒ

### Conventional Commits

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒ

**æ ¼å¼**ï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type ç±»å‹

| Type | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `feat` | æ–°åŠŸèƒ½ | `feat(editor): add crop tool` |
| `fix` | Bug ä¿®å¤ | `fix(api): resolve CORS issue` |
| `docs` | æ–‡æ¡£æ›´æ–° | `docs(readme): update install steps` |
| `style` | ä»£ç æ ¼å¼ | `style: fix indentation` |
| `refactor` | é‡æ„ | `refactor(auth): simplify login flow` |
| `perf` | æ€§èƒ½ä¼˜åŒ– | `perf(image): optimize loading` |
| `test` | æµ‹è¯• | `test(hooks): add profile data tests` |
| `chore` | æ„å»º/å·¥å…· | `chore(deps): update dependencies` |
| `ci` | CI/CD | `ci: add coverage reporting` |
| `revert` | å›æ»š | `revert: rollback to v1.0.0` |

### Scopeï¼ˆå¯é€‰ï¼‰

æŒ‡æ˜å˜æ›´çš„èŒƒå›´ï¼Œä¾‹å¦‚ï¼š

- `editor` - ç¼–è¾‘å™¨ç›¸å…³
- `api` - API ç›¸å…³
- `auth` - è®¤è¯ç›¸å…³
- `admin` - ç®¡ç†åå°
- `ui` - UI ç»„ä»¶

### Subject

- ä½¿ç”¨ç¥ˆä½¿å¥ï¼Œç°åœ¨æ—¶æ€
- é¦–å­—æ¯å°å†™
- ä¸è¦ä»¥å¥å·ç»“å°¾
- é™åˆ¶åœ¨ 50 ä¸ªå­—ç¬¦å†…

**å¥½çš„ç¤ºä¾‹**ï¼š
```
feat(editor): add image rotation feature
fix(auth): resolve session timeout issue
docs(api): update API reference
```

**ä¸å¥½çš„ç¤ºä¾‹**ï¼š
```
æ·»åŠ äº†å›¾ç‰‡æ—‹è½¬åŠŸèƒ½ âŒ (ä¸­æ–‡)
Fixed the bug. âŒ (è¿‡å»æ—¶ + å¥å·)
feat: I added a new feature that allows users to... âŒ (å¤ªé•¿)
```

### Bodyï¼ˆå¯é€‰ï¼‰

- è¯¦ç»†æè¿°å˜æ›´å†…å®¹
- è§£é‡Š"ä¸ºä»€ä¹ˆ"è€Œä¸ä»…æ˜¯"æ˜¯ä»€ä¹ˆ"
- æ¯è¡Œé™åˆ¶åœ¨ 72 ä¸ªå­—ç¬¦å†…

### Footerï¼ˆå¯é€‰ï¼‰

- å…³è” Issueï¼š`Closes #123`
- ç ´åæ€§å˜æ›´ï¼š`BREAKING CHANGE: description`

### å®Œæ•´ç¤ºä¾‹

```
feat(admin): add LLM configuration management

- Add LLM config page with smart form
- Support 6 LLM providers (Google, Ollama, OpenAI, etc.)
- Implement API key encryption
- Add config validation and error handling

This feature allows admins to configure multiple LLM services
through a unified interface, with automatic encryption for
sensitive data like API keys.

Closes #123
```

---

## Pull Request æµç¨‹

### 1. åˆ›å»º PR

- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜ï¼ˆéµå¾ª Conventional Commitsï¼‰
- å¡«å†™ PR æ¨¡æ¿çš„æ‰€æœ‰å¿…å¡«é¡¹
- æ·»åŠ ç›¸å…³çš„ labels
- å…³è”ç›¸å…³ Issue

### 2. ç­‰å¾… CI æ£€æŸ¥

GitHub Actions ä¼šè‡ªåŠ¨è¿è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

- âœ… Lint æ£€æŸ¥
- âœ… å•å…ƒæµ‹è¯•
- âœ… ä»£ç è¦†ç›–ç‡
- âœ… æ„å»ºéªŒè¯
- âœ… ç±»å‹æ£€æŸ¥
- âœ… å®‰å…¨å®¡è®¡

**æ‰€æœ‰æ£€æŸ¥å¿…é¡»é€šè¿‡**

### 3. Code Review

è‡³å°‘éœ€è¦ 1 ä¸ªç»´æŠ¤è€…æ‰¹å‡†

**å®¡æŸ¥è€…ä¼šæ£€æŸ¥**ï¼š
- ä»£ç è´¨é‡å’Œé£æ ¼
- æµ‹è¯•è¦†ç›–ç‡
- æ–‡æ¡£å®Œæ•´æ€§
- æ€§èƒ½å½±å“
- å®‰å…¨æ€§

### 4. ä¿®æ”¹åé¦ˆ

æ ¹æ®å®¡æŸ¥æ„è§ä¿®æ”¹ä»£ç ï¼š

```bash
# ä¿®æ”¹ä»£ç 
git add .
git commit -m "fix: address review comments"
git push origin feature/your-feature-name
```

CI ä¼šè‡ªåŠ¨é‡æ–°è¿è¡Œ

### 5. åˆå¹¶

ç»´æŠ¤è€…ä¼šåœ¨ä»¥ä¸‹æƒ…å†µåˆå¹¶ PRï¼š

- âœ… æ‰€æœ‰ CI æ£€æŸ¥é€šè¿‡
- âœ… è‡³å°‘ 1 ä¸ªæ‰¹å‡†
- âœ… æ‰€æœ‰è®¨è®ºå·²è§£å†³
- âœ… æ²¡æœ‰å†²çª

---

## ä»£ç è§„èŒƒ

### TypeScript

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- æ˜ç¡®ç±»å‹å®šä¹‰ï¼Œé¿å… `any`
- ä¼˜å…ˆä½¿ç”¨ `interface` è€Œä¸æ˜¯ `type`ï¼ˆé™¤ééœ€è¦è”åˆç±»å‹ï¼‰

**å¥½çš„ç¤ºä¾‹**ï¼š
```typescript
interface User {
  id: string
  name: string
  email: string
}

function getUser(id: string): Promise<User> {
  // ...
}
```

**ä¸å¥½çš„ç¤ºä¾‹**ï¼š
```typescript
function getUser(id: any): any {  // âŒ ä½¿ç”¨ any
  // ...
}
```

### React ç»„ä»¶

- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶
- ä¼˜å…ˆä½¿ç”¨ Hooks
- å®¢æˆ·ç«¯äº¤äº’ç»„ä»¶æ·»åŠ  `"use client"`
- Props ä½¿ç”¨ TypeScript æ¥å£

**å¥½çš„ç¤ºä¾‹**ï¼š
```typescript
"use client"

interface ButtonProps {
  label: string
  onClick: () => void
  disabled?: boolean
}

export function Button({ label, onClick, disabled = false }: ButtonProps) {
  return (
    <button onClick={onClick} disabled={disabled}>
      {label}
    </button>
  )
}
```

### å‘½åè§„èŒƒ

- **ç»„ä»¶æ–‡ä»¶**ï¼š`PascalCase.tsx`
- **å·¥å…·å‡½æ•°**ï¼š`camelCase.ts`
- **å¸¸é‡**ï¼š`UPPER_SNAKE_CASE`
- **æ¥å£/ç±»å‹**ï¼š`PascalCase`

### ä»£ç é£æ ¼

- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- ä½¿ç”¨å•å¼•å·ï¼ˆå­—ç¬¦ä¸²ï¼‰
- ä½¿ç”¨åˆ†å·
- æœ€å¤§è¡Œé•¿åº¦ï¼š80 å­—ç¬¦ï¼ˆæ³¨é‡Šï¼‰/ 100 å­—ç¬¦ï¼ˆä»£ç ï¼‰

éµå¾ª ESLint é…ç½®è‡ªåŠ¨æ ¼å¼åŒ–

---

## æµ‹è¯•è¦æ±‚

### æµ‹è¯•è¦†ç›–ç‡

**æœ€ä½è¦æ±‚**ï¼š70%

- è¯­å¥è¦†ç›–ï¼šâ‰¥ 70%
- åˆ†æ”¯è¦†ç›–ï¼šâ‰¥ 70%
- å‡½æ•°è¦†ç›–ï¼šâ‰¥ 70%
- è¡Œè¦†ç›–ï¼šâ‰¥ 70%

### æµ‹è¯•ç±»å‹

#### 1. å•å…ƒæµ‹è¯•

æµ‹è¯•ç‹¬ç«‹çš„å‡½æ•°å’Œç»„ä»¶ï¼š

```typescript
import { describe, it, expect } from 'vitest'
import { calculateTotal } from './utils'

describe('calculateTotal', () => {
  it('should calculate correct total', () => {
    expect(calculateTotal([10, 20, 30])).toBe(60)
  })

  it('should handle empty array', () => {
    expect(calculateTotal([])).toBe(0)
  })
})
```

#### 2. ç»„ä»¶æµ‹è¯•

æµ‹è¯• React ç»„ä»¶ï¼š

```typescript
import { render, screen, fireEvent } from '@testing-library/react'
import { Button } from './Button'

describe('Button', () => {
  it('should render with label', () => {
    render(<Button label="Click me" onClick={() => {}} />)
    expect(screen.getByText('Click me')).toBeInTheDocument()
  })

  it('should call onClick when clicked', () => {
    const onClick = vi.fn()
    render(<Button label="Click" onClick={onClick} />)

    fireEvent.click(screen.getByText('Click'))
    expect(onClick).toHaveBeenCalledTimes(1)
  })
})
```

### æµ‹è¯•æ–‡ä»¶ä½ç½®

- `__tests__/` ç›®å½•
- æˆ–ä¸æºæ–‡ä»¶åŒçº§ï¼š`Component.test.tsx`

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage

# ç›‘å¬æ¨¡å¼
pnpm test:watch

# UI æ¨¡å¼
pnpm test:ui
```

---

## æ–‡æ¡£æ›´æ–°

### ä½•æ—¶æ›´æ–°æ–‡æ¡£ï¼Ÿ

- âœ… æ·»åŠ æ–°åŠŸèƒ½
- âœ… ä¿®æ”¹ API
- âœ… æ›´æ”¹é…ç½®
- âœ… ä¿®å¤é‡è¦ Bug
- âœ… æ·»åŠ æ–°ä¾èµ–

### éœ€è¦æ›´æ–°çš„æ–‡æ¡£

- **README.md** - é¡¹ç›®æ¦‚è¿°å’Œå¿«é€Ÿå¼€å§‹
- **CLAUDE.md** - å¼€å‘è§„èŒƒå’Œæ¶æ„è¯´æ˜
- **API æ–‡æ¡£** - å¦‚æœä¿®æ”¹äº† API
- **ä»£ç æ³¨é‡Š** - å¤æ‚é€»è¾‘éœ€è¦æ³¨é‡Š
- **CHANGELOG.md** - è®°å½•å˜æ›´ï¼ˆç»´æŠ¤è€…è´Ÿè´£ï¼‰

### æ–‡æ¡£è§„èŒƒ

- ä½¿ç”¨æ¸…æ™°ç®€æ´çš„è¯­è¨€
- æä¾›ä»£ç ç¤ºä¾‹
- æ·»åŠ æˆªå›¾ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
- ä¿æŒæ ¼å¼ä¸€è‡´
- æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§

---

## è·å–å¸®åŠ©

### æé—®

- åˆ›å»º [é—®é¢˜å’¨è¯¢ Issue](https://github.com/yourusername/nanobanana-clone/issues/new?template=question.md)
- åœ¨ç°æœ‰ PR/Issue ä¸­è¯„è®º
- æŸ¥çœ‹ [CI/CD ä½¿ç”¨æŒ‡å—](./CI_CD_GUIDE.md)

### æœ‰ç”¨çš„èµ„æº

- [é¡¹ç›® README](./README.md)
- [CI/CD ä½¿ç”¨æŒ‡å—](./CI_CD_GUIDE.md)
- [å¼€å‘è§„èŒƒ](./CLAUDE.md)
- [GitHub Issues](https://github.com/yourusername/nanobanana-clone/issues)

---

## æ„Ÿè°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…ï¼ä½ ä»¬çš„åŠªåŠ›è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ï¼ğŸ‰

---

**è€ç‹æé†’**ï¼šè´¡çŒ®ä»£ç ä¸éš¾ï¼Œå…³é”®æ˜¯éµå®ˆè§„èŒƒï¼æœ‰é—®é¢˜éšæ—¶é—®ï¼Œåˆ«æ€•ï¼
