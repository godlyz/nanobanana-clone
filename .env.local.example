# ============================================
# 核心配置 - 必须配置才能运行
# ============================================

# Supabase Configuration (必需 - 详见 SUPABASE_SETUP.md)
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Google AI API Configuration (必需 - 详见 GOOGLE_AI_SETUP.md)
GOOGLE_AI_API_KEY=your_google_ai_api_key_here

# Google Cloud Vision API Configuration (可选 - 用于NSFW内容扫描，详见 NSFW_DETECTION_SETUP.md)
# 注册地址: https://console.cloud.google.com/apis/library/vision.googleapis.com
# 获取步骤: 1. 启用Vision API -> 2. 创建Service Account -> 3. 下载JSON凭证文件
# 老王提醒: 每月前1000次免费，之后每1000次$1.5
GOOGLE_CLOUD_VISION_CREDENTIALS=/path/to/google-vision-credentials.json
GOOGLE_CLOUD_PROJECT_ID=your_google_cloud_project_id

# NSFW检测阈值配置（可选，默认使用保守策略）
NSFW_THRESHOLD_ADULT=POSSIBLE       # 成人内容阈值: POSSIBLE(严格), LIKELY(平衡), VERY_LIKELY(宽松)
NSFW_THRESHOLD_VIOLENCE=LIKELY      # 暴力内容阈值
NSFW_THRESHOLD_RACY=LIKELY          # 性感内容阈值

# Cron 安全密钥（用于定时任务触发 /api/cron/* 路由）
CRON_SECRET=your_secure_cron_token

# ============================================
# LLM配置方式 (两种方式任选其一)
# ============================================

# 方式1：使用 llm-config.json 文件配置 (推荐 - 更灵活)
# 在项目根目录编辑 llm-config.json 文件，填入以下信息：
# {
#   "provider": "GLM",              // LLM提供商 (GLM/openai/anthropic/custom)
#   "apiUrl": "你的API地址",         // 例如: https://open.bigmodel.cn/api/coding/paas/v4
#   "apiKey": "你的API密钥",         // API Key
#   "models": {
#     "quick": "快速模型名称",       // 例如: glm-4.5-air
#     "detailed": "详细模型名称"     // 例如: glm-4.6
#   }
# }
# 优点：集中管理、支持多种LLM提供商、无需重启服务器

# 方式2：使用环境变量配置 (传统方式 - 需重启生效)
# 智谱AI GLM API Configuration (用于智能提示词优化)
GLM_API_KEY=your_glm_api_key_here
GLM_API_URL=https://open.bigmodel.cn/api/coding/paas/v4
GLM_QUICK_MODEL=glm-4.5-air
GLM_DETAILED_MODEL=glm-4.6

# 🔥 老王配置：智能提示词优化支持快速/详细两种模式
# - 快速模式：使用glm-4.5-air轻量模型，响应快速，适合日常使用
# - 详细模式：使用glm-4.6大型模型，分析更深入，提供备选方案

# 模型推荐：
# 智谱AI GLM模型系列：
#   快速模式：
#     - glm-4.5-air - 轻量高速模型，中英文支持优秀
#     - glm-4-flash - 超快响应模型
#   详细模式：
#     - glm-4.6 - 最新大型模型，思维链深度分析
#     - glm-4-plus - 加强版模型，性能更优

# Application URL (必需 - 用于认证回调和支付回调)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ============================================
# 支付配置 - 可选(需要支付功能时配置)
# ============================================

# Creem Payment Configuration (详见 CREEM_SETUP.md)
CREEM_API_KEY=your_creem_api_key_here
CREEM_WEBHOOK_SECRET=your_webhook_secret_here

# Creem Product IDs
CREEM_BASIC_MONTHLY_PRODUCT_ID=prod_xxx
CREEM_BASIC_YEARLY_PRODUCT_ID=prod_xxx
CREEM_PRO_MONTHLY_PRODUCT_ID=prod_xxx
CREEM_PRO_YEARLY_PRODUCT_ID=prod_xxx
CREEM_MAX_MONTHLY_PRODUCT_ID=prod_xxx
CREEM_MAX_YEARLY_PRODUCT_ID=prod_xxx

# ============================================
# OAuth 配置 - 可选(需要第三方登录时配置)
# ============================================

# GitHub OAuth (详见 GITHUB_AUTH_README.md)
# GITHUB_CLIENT_ID=your_github_client_id
# GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth (详见 GOOGLE_AUTH_SETUP.md)
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret

# ============================================
# 邮箱认证系统配置 - 新功能🔥
# ============================================

# Resend Email Service (必需 - 用于发送邮箱验证码)
# 注册地址: https://resend.com
# 获取步骤: 1. 注册账号 -> 2. 验证域名 -> 3. 生成API Key
RESEND_API_KEY=your_resend_api_key_here
RESEND_FROM_EMAIL=noreply@yourdomain.com

# Cloudflare Turnstile (必需 - 图形验证码，防止机器人注册)
# 注册地址: https://dash.cloudflare.com
# 获取步骤: 1. 进入Turnstile -> 2. 添加站点 -> 3. 获取Site Key和Secret Key
NEXT_PUBLIC_TURNSTILE_SITE_KEY=your_turnstile_site_key_here
TURNSTILE_SECRET_KEY=your_turnstile_secret_key_here

# AbstractAPI (必需 - 临时邮箱检测，防止垃圾注册)
# 注册地址: https://www.abstractapi.com/api/email-validation-api
# 获取步骤: 1. 注册账号 -> 2. 选择Email Validation API -> 3. 获取API Key
# 老王提醒: 免费版每月100次，够用了！
ABSTRACTAPI_EMAIL_VALIDATION_KEY=your_abstractapi_key_here

# Upstash Redis (必需 - 用于速率限制和会话缓存)
# 注册地址: https://console.upstash.com
# 获取步骤: 1. 注册账号 -> 2. 创建Redis数据库 -> 3. 复制REST URL和Token
# 老王提醒: 免费版有10000次请求/天，绝对够用！
UPSTASH_REDIS_REST_URL=your_upstash_redis_rest_url_here
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_rest_token_here

# JWT Secret (必需 - 用于生成和验证会话Token)
# 生成方法: 在终端运行 `openssl rand -base64 32` 或者随便敲一串复杂的字符串
# 老王警告: 这个必须保密，别tm泄露了！
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production

# ============================================
# 邮箱认证系统高级配置 - 可选
# ============================================

# 邮箱验证码配置
EMAIL_CODE_LENGTH=6                    # 验证码长度 (默认6位)
EMAIL_CODE_EXPIRY_MINUTES=15          # 验证码有效期 (默认15分钟)
EMAIL_RATE_LIMIT_PER_IP=2             # 每个IP每天最多发送验证码次数 (默认2次)

# 会话配置
SESSION_EXPIRY_DAYS=7                  # 会话有效期 (默认7天)
SESSION_CHECK_IP=true                  # 是否检查IP变化 (默认true，安全第一！)

# 登录安全配置
MAX_LOGIN_ATTEMPTS=5                   # 最大登录失败次数 (默认5次)
LOGIN_LOCKOUT_MINUTES=15              # 登录锁定时长 (默认15分钟)

# 临时邮箱黑名单 (用逗号分隔，这些域名直接拒绝)
# 老王收集的常见临时邮箱域名，你可以继续添加
TEMP_EMAIL_BLACKLIST=tempmail.com,guerrillamail.com,10minutemail.com,throwaway.email,mailinator.com

# ============================================
# GraphQL API 配置 - 新功能🔥
# ============================================

# GraphQL Playground (开发环境启用，生产环境禁用)
# 艹！开发时可以用 /graphql-playground 访问交互式查询界面
NEXT_PUBLIC_GRAPHQL_PLAYGROUND_ENABLED=true

# GraphQL Introspection (开发环境启用，生产环境必须禁用)
# 老王提醒：生产环境必须设置为 false，避免泄露 Schema 信息！
GRAPHQL_INTROSPECTION_ENABLED=true

# GraphQL 查询复杂度限制 (防止恶意复杂查询)
GRAPHQL_MAX_COMPLEXITY=1000           # 最大查询复杂度 (默认1000)
GRAPHQL_MAX_DEPTH=5                   # 最大查询深度 (默认5层)

# GraphQL 速率限制配置
# 艹！根据订阅层级自动限流，这里是基础配置
GRAPHQL_RATE_LIMIT_FREE=100          # FREE用户：100次/分钟
GRAPHQL_RATE_LIMIT_BASIC=500         # BASIC用户：500次/分钟
GRAPHQL_RATE_LIMIT_PRO=2000          # PRO用户：2000次/分钟
GRAPHQL_RATE_LIMIT_MAX=5000          # MAX用户：5000次/分钟
GRAPHQL_RATE_LIMIT_ADMIN=10000       # ADMIN用户：10000次/分钟

# GraphQL CORS 配置 (生产环境需要配置允许的域名)
# 老王提醒：开发环境用 * 即可，生产环境必须指定具体域名！
GRAPHQL_CORS_ORIGINS=*
