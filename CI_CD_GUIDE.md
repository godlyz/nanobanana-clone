# ğŸš€ CI/CD ç³»ç»Ÿä½¿ç”¨æŒ‡å—

> è€ç‹æé†’ï¼šè¿™ä¸ªSBæŒ‡å—æ•™ä½ æ€ä¹ˆç”¨ CI/CD è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œçœ‹å®Œå°±ä¼šäº†ï¼

---

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [GitHub Actions å·¥ä½œæµ](#github-actions-å·¥ä½œæµ)
- [æœ¬åœ°æµ‹è¯•å‘½ä»¤](#æœ¬åœ°æµ‹è¯•å‘½ä»¤)
- [æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š](#æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š)
- [è°ƒè¯•å¤±è´¥çš„ Job](#è°ƒè¯•å¤±è´¥çš„-job)
- [PR è‡ªåŠ¨æ£€æŸ¥](#pr-è‡ªåŠ¨æ£€æŸ¥)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## å¿«é€Ÿå¼€å§‹

### ä»€ä¹ˆæ˜¯ CI/CDï¼Ÿ

**CI (æŒç»­é›†æˆ)**ï¼šæ¯æ¬¡ä»£ç æäº¤éƒ½è‡ªåŠ¨è¿è¡Œæµ‹è¯•å’Œæ£€æŸ¥
**CD (æŒç»­éƒ¨ç½²)**ï¼šæµ‹è¯•é€šè¿‡åè‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨

**æœ¬é¡¹ç›®çš„ CI/CD åšä»€ä¹ˆï¼Ÿ**

- âœ… è‡ªåŠ¨æ£€æŸ¥ä»£ç è´¨é‡ï¼ˆLintï¼‰
- âœ… è‡ªåŠ¨è¿è¡Œå•å…ƒæµ‹è¯•
- âœ… è‡ªåŠ¨ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
- âœ… è‡ªåŠ¨éªŒè¯æ„å»º
- âœ… è‡ªåŠ¨æ£€æŸ¥ç±»å‹é”™è¯¯
- âœ… è‡ªåŠ¨æ‰«æå®‰å…¨æ¼æ´
- âœ… è‡ªåŠ¨åœ¨ PR ä¸Šæ·»åŠ æ£€æŸ¥æŠ¥å‘Š

### è§¦å‘æ¡ä»¶

CI/CD ä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨è¿è¡Œï¼š

1. **Push åˆ° main æˆ– dev åˆ†æ”¯**
   ```bash
   git push origin main
   ```

2. **åˆ›å»ºæˆ–æ›´æ–° Pull Request**
   ```bash
   gh pr create
   # æˆ–åœ¨ GitHub ç½‘é¡µåˆ›å»º PR
   ```

---

## GitHub Actions å·¥ä½œæµ

### å·¥ä½œæµç»“æ„

```
CI/CD Pipeline
â”œâ”€â”€ ğŸ” Lint (ä»£ç è´¨é‡æ£€æŸ¥)
â”œâ”€â”€ ğŸ§ª Test (å•å…ƒæµ‹è¯• + è¦†ç›–ç‡)
â”œâ”€â”€ ğŸ—ï¸ Build (æ„å»ºéªŒè¯)
â”œâ”€â”€ ğŸ“ TypeCheck (ç±»å‹æ£€æŸ¥)
â”œâ”€â”€ ğŸ”’ Security (å®‰å…¨å®¡è®¡)
â”œâ”€â”€ âœ… PR Checks (PR è‡ªåŠ¨æ£€æŸ¥) [ä»… PR]
â””â”€â”€ ğŸ§¹ Cleanup (æ¸…ç†å’Œé€šçŸ¥)
```

### æŸ¥çœ‹å·¥ä½œæµè¿è¡ŒçŠ¶æ€

#### æ–¹æ³• 1ï¼šGitHub Actions é¡µé¢

1. è®¿é—®é¡¹ç›®ä»“åº“
2. ç‚¹å‡»é¡¶éƒ¨çš„ **"Actions"** æ ‡ç­¾
3. æŸ¥çœ‹æœ€è¿‘çš„å·¥ä½œæµè¿è¡Œè®°å½•

![Actionsé¡µé¢](https://docs.github.com/assets/cb-25535/images/help/repository/actions-tab.png)

#### æ–¹æ³• 2ï¼šPR é¡µé¢

åœ¨ Pull Request é¡µé¢åº•éƒ¨å¯ä»¥çœ‹åˆ°æ‰€æœ‰æ£€æŸ¥çŠ¶æ€ï¼š

```
âœ… Lint / ä»£ç è´¨é‡æ£€æŸ¥
âœ… Test / å•å…ƒæµ‹è¯• + è¦†ç›–ç‡
âœ… Build / æ„å»ºéªŒè¯
âœ… TypeCheck / TypeScript ç±»å‹æ£€æŸ¥
âœ… Security / ä¾èµ–å®‰å…¨å®¡è®¡
```

#### æ–¹æ³• 3ï¼šå¾½ç« ï¼ˆå³å°†æ·»åŠ ï¼‰

åœ¨ README.md é¡¶éƒ¨ä¼šæ˜¾ç¤ºå®æ—¶çŠ¶æ€å¾½ç« ï¼š

![CI Status](https://github.com/username/repo/workflows/CI%2FCD%20Pipeline/badge.svg)

---

## æœ¬åœ°æµ‹è¯•å‘½ä»¤

### è¿è¡Œæ‰€æœ‰ CI æ£€æŸ¥

**å¿«é€Ÿæµ‹è¯•è„šæœ¬**ï¼ˆæ¨èï¼‰ï¼š

```bash
# åˆ›å»ºæµ‹è¯•è„šæœ¬
cat > test-ci-locally.sh << 'EOF'
#!/bin/bash
echo "ğŸ” 1/6 Lint æ£€æŸ¥..."
pnpm lint

echo "\nğŸ§ª 2/6 å•å…ƒæµ‹è¯•..."
pnpm test

echo "\nğŸ“Š 3/6 ä»£ç è¦†ç›–ç‡..."
pnpm test:coverage

echo "\nğŸ“ 4/6 ç±»å‹æ£€æŸ¥..."
npx tsc --noEmit

echo "\nğŸ—ï¸ 5/6 æ„å»ºéªŒè¯..."
pnpm build

echo "\nğŸ”’ 6/6 å®‰å…¨å®¡è®¡..."
pnpm audit --prod --audit-level=moderate

echo "\nâœ… æ‰€æœ‰æ£€æŸ¥å®Œæˆï¼"
EOF

chmod +x test-ci-locally.sh
./test-ci-locally.sh
```

### å•ç‹¬è¿è¡Œå„é¡¹æ£€æŸ¥

#### 1. Lint æ£€æŸ¥

```bash
pnpm lint
```

**ä½œç”¨**ï¼šæ£€æŸ¥ä»£ç é£æ ¼å’Œæ½œåœ¨é—®é¢˜

**å¦‚ä½•ä¿®å¤é—®é¢˜**ï¼š
```bash
# è‡ªåŠ¨ä¿®å¤ç®€å•é—®é¢˜
pnpm lint --fix
```

#### 2. å•å…ƒæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# ç›‘å¬æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡æ–°è¿è¡Œï¼‰
pnpm test:watch

# UI æ¨¡å¼ï¼ˆå¯è§†åŒ–ç•Œé¢ï¼‰
pnpm test:ui
```

**ä½œç”¨**ï¼šç¡®ä¿ä»£ç åŠŸèƒ½æ­£ç¡®

#### 3. ä»£ç è¦†ç›–ç‡

```bash
pnpm test:coverage
```

**ä½œç”¨**ï¼šæ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡æ˜¯å¦è¾¾æ ‡ï¼ˆç›®æ ‡ â‰¥ 70%ï¼‰

**æŠ¥å‘Šä½ç½®**ï¼š
- æ–‡æœ¬æŠ¥å‘Šï¼šç»ˆç«¯è¾“å‡º
- HTML æŠ¥å‘Šï¼š`coverage/index.html`
- LCOV æŠ¥å‘Šï¼š`coverage/lcov.info`

**æŸ¥çœ‹ HTML æŠ¥å‘Š**ï¼š
```bash
# macOS
open coverage/index.html

# Linux
xdg-open coverage/index.html

# Windows
start coverage/index.html
```

#### 4. ç±»å‹æ£€æŸ¥

```bash
npx tsc --noEmit
```

**ä½œç”¨**ï¼šæ£€æŸ¥ TypeScript ç±»å‹é”™è¯¯

**æ³¨æ„**ï¼šé¡¹ç›®é…ç½®äº† `ignoreBuildErrors: true`ï¼Œç±»å‹é”™è¯¯ä¸ä¼šé˜»æ­¢æ„å»ºï¼Œä½†åº”è¯¥ä¿®å¤ã€‚

#### 5. æ„å»ºéªŒè¯

```bash
pnpm build
```

**ä½œç”¨**ï¼šéªŒè¯ç”Ÿäº§æ„å»ºæ˜¯å¦æˆåŠŸ

**æ„å»ºäº§ç‰©ä½ç½®**ï¼š`.next/`

#### 6. å®‰å…¨å®¡è®¡

```bash
# æ£€æŸ¥ç”Ÿäº§ä¾èµ–çš„é«˜å±æ¼æ´
pnpm audit --prod --audit-level=high

# æ£€æŸ¥æ‰€æœ‰ä¾èµ–çš„ä¸­ç­‰åŠä»¥ä¸Šæ¼æ´
pnpm audit --audit-level=moderate
```

**ä½œç”¨**ï¼šæ£€æµ‹ä¾èµ–åŒ…çš„å®‰å…¨æ¼æ´

---

## æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š

### ä»£ç è¦†ç›–ç‡æŠ¥å‘Š

#### ç»ˆç«¯æŸ¥çœ‹

```bash
pnpm test:coverage
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
----------------------|---------|----------|---------|---------|
File                  | % Stmts | % Branch | % Funcs | % Lines |
----------------------|---------|----------|---------|---------|
All files             |   75.23 |    68.42 |   80.00 |   75.23 |
 hooks                |   85.71 |    75.00 |   90.00 |   85.71 |
  use-profile-data.ts |   85.71 |    75.00 |   90.00 |   85.71 |
----------------------|---------|----------|---------|---------|
```

#### HTML æŠ¥å‘Šï¼ˆæ¨èï¼‰

```bash
pnpm test:coverage
open coverage/index.html
```

**åŠŸèƒ½**ï¼š
- å¯è§†åŒ–è¦†ç›–ç‡ç»Ÿè®¡
- æŒ‰æ–‡ä»¶/ç›®å½•æŸ¥çœ‹
- é«˜äº®æœªè¦†ç›–çš„ä»£ç è¡Œ
- ç‚¹å‡»æ–‡ä»¶æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

#### GitHub Actions æ‘˜è¦

æ¯æ¬¡ CI è¿è¡Œåï¼Œåœ¨ Actions é¡µé¢ä¼šè‡ªåŠ¨ç”Ÿæˆæ‘˜è¦ï¼š

1. è¿›å…¥ Actions é¡µé¢
2. ç‚¹å‡»æœ€è¿‘çš„å·¥ä½œæµè¿è¡Œ
3. æŸ¥çœ‹ **"Summary"** æ ‡ç­¾
4. çœ‹åˆ°è¦†ç›–ç‡æŠ¥å‘Šæ‘˜è¦

### Codecov æŠ¥å‘Šï¼ˆå³å°†é›†æˆï¼‰

æœªæ¥ä¼šé›†æˆ Codecovï¼Œæä¾›ï¼š
- å®æ—¶è¦†ç›–ç‡å¾½ç« 
- è¦†ç›–ç‡è¶‹åŠ¿å›¾
- PR è¦†ç›–ç‡å˜åŒ–
- ä»£ç çƒ­åŠ›å›¾

---

## è°ƒè¯•å¤±è´¥çš„ Job

### æ­¥éª¤ 1ï¼šå®šä½å¤±è´¥çš„ Job

1. è¿›å…¥ GitHub Actions é¡µé¢
2. ç‚¹å‡»å¤±è´¥çš„å·¥ä½œæµï¼ˆæ˜¾ç¤ºçº¢è‰² âŒï¼‰
3. æŸ¥çœ‹å“ªä¸ª Job å¤±è´¥äº†

### æ­¥éª¤ 2ï¼šæŸ¥çœ‹è¯¦ç»†æ—¥å¿—

1. ç‚¹å‡»å¤±è´¥çš„ Job åç§°
2. å±•å¼€å¤±è´¥çš„æ­¥éª¤
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### æ­¥éª¤ 3ï¼šæœ¬åœ°å¤ç°

æ ¹æ®å¤±è´¥çš„ Job ç±»å‹ï¼Œåœ¨æœ¬åœ°è¿è¡Œå¯¹åº”å‘½ä»¤ï¼š

| å¤±è´¥çš„ Job | æœ¬åœ°å‘½ä»¤ |
|-----------|---------|
| Lint | `pnpm lint` |
| Test | `pnpm test` |
| Build | `pnpm build` |
| TypeCheck | `npx tsc --noEmit` |
| Security | `pnpm audit --prod` |

### æ­¥éª¤ 4ï¼šä¿®å¤é—®é¢˜

#### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**é—®é¢˜ 1ï¼šLint å¤±è´¥**

```bash
# é”™è¯¯ç¤ºä¾‹
âœ– Missing semicolon (semi)
âœ– Unused variable 'foo' (no-unused-vars)
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# è‡ªåŠ¨ä¿®å¤
pnpm lint --fix

# æ‰‹åŠ¨ä¿®å¤å‰©ä½™é—®é¢˜
```

**é—®é¢˜ 2ï¼šæµ‹è¯•å¤±è´¥**

```bash
# é”™è¯¯ç¤ºä¾‹
FAIL hooks/__tests__/use-profile-data.test.tsx
âœ• should fetch profile data (15ms)
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æµ‹è¯•ä»£ç é€»è¾‘
2. ç¡®è®¤ mock æ•°æ®æ­£ç¡®
3. æ£€æŸ¥å¼‚æ­¥æ“ä½œæ˜¯å¦æ­£ç¡®å¤„ç†
4. è¿è¡Œ `pnpm test:watch` å¿«é€Ÿè°ƒè¯•

**é—®é¢˜ 3ï¼šæ„å»ºå¤±è´¥**

```bash
# é”™è¯¯ç¤ºä¾‹
Error: Module not found: Can't resolve 'xxx'
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†ç¼“å­˜é‡æ–°å®‰è£…
rm -rf .next node_modules
pnpm install
pnpm build
```

**é—®é¢˜ 4ï¼šç±»å‹é”™è¯¯**

```bash
# é”™è¯¯ç¤ºä¾‹
error TS2322: Type 'string' is not assignable to type 'number'
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä¿®å¤ç±»å‹å®šä¹‰
2. æ·»åŠ ç±»å‹æ–­è¨€
3. æ›´æ–°æ¥å£å®šä¹‰

**é—®é¢˜ 5ï¼šå®‰å…¨æ¼æ´**

```bash
# é”™è¯¯ç¤ºä¾‹
high severity vulnerabilities found
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# è‡ªåŠ¨ä¿®å¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼Œå¯èƒ½å¯¼è‡´ç ´åæ€§å˜æ›´ï¼‰
pnpm audit fix

# æ‰‹åŠ¨æ›´æ–°é—®é¢˜ä¾èµ–
pnpm update package-name
```

### æ­¥éª¤ 5ï¼šé‡æ–°è¿è¡Œ CI

ä¿®å¤åï¼Œé‡æ–°æ¨é€ä»£ç ï¼š

```bash
git add .
git commit -m "fix: resolve CI issues"
git push
```

GitHub Actions ä¼šè‡ªåŠ¨é‡æ–°è¿è¡Œã€‚

---

## PR è‡ªåŠ¨æ£€æŸ¥

### PR æ£€æŸ¥æµç¨‹

```mermaid
flowchart TD
    A[åˆ›å»º PR] --> B[è§¦å‘ CI/CD]
    B --> C[è¿è¡Œæ‰€æœ‰æ£€æŸ¥]
    C --> D{æ‰€æœ‰æ£€æŸ¥é€šè¿‡?}
    D -->|æ˜¯| E[ç”Ÿæˆé€šè¿‡æŠ¥å‘Š]
    D -->|å¦| F[ç”Ÿæˆå¤±è´¥æŠ¥å‘Š]
    E --> G[è‡ªåŠ¨æ·»åŠ  PR è¯„è®º]
    F --> G
    G --> H[æ›´æ–° PR çŠ¶æ€]
```

### PR è¯„è®ºç¤ºä¾‹

CI/CD ä¼šè‡ªåŠ¨åœ¨ PR ä¸Šæ·»åŠ è¯„è®ºï¼š

```markdown
## âœ… CI/CD æ£€æŸ¥å®Œæˆ

**æ£€æŸ¥ç»“æœæ‘˜è¦**
- ğŸ” ä»£ç è´¨é‡æ£€æŸ¥: âœ… success
- ğŸ§ª å•å…ƒæµ‹è¯• + è¦†ç›–ç‡: âœ… success
- ğŸ—ï¸ æ„å»ºéªŒè¯: âœ… success
- ğŸ“ TypeScript ç±»å‹æ£€æŸ¥: âœ… success
- ğŸ”’ ä¾èµ–å®‰å…¨å®¡è®¡: âœ… success

---
æ‰€æœ‰æ£€æŸ¥å·²é€šè¿‡ï¼âœ¨ ä»£ç è´¨é‡è‰¯å¥½ï¼Œå¯ä»¥åˆå¹¶ã€‚

_ç”± GitHub Actions è‡ªåŠ¨ç”Ÿæˆ @ 2025-01-XX_
```

### å¦‚ä½•ä½¿ç”¨ PR æ£€æŸ¥

1. **åˆ›å»º PR å‰**ï¼šå…ˆåœ¨æœ¬åœ°è¿è¡Œæ‰€æœ‰æµ‹è¯•
   ```bash
   ./test-ci-locally.sh
   ```

2. **åˆ›å»º PR**ï¼šæ¨é€ä»£ç å¹¶åˆ›å»º PR
   ```bash
   git push origin feature-branch
   gh pr create
   ```

3. **ç­‰å¾…æ£€æŸ¥**ï¼šCI/CD è‡ªåŠ¨è¿è¡Œï¼ˆçº¦ 5-10 åˆ†é’Ÿï¼‰

4. **æŸ¥çœ‹ç»“æœ**ï¼š
   - PR é¡µé¢åº•éƒ¨æŸ¥çœ‹æ£€æŸ¥çŠ¶æ€
   - ç‚¹å‡» "Details" æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

5. **ä¿®å¤é—®é¢˜**ï¼ˆå¦‚æœå¤±è´¥ï¼‰ï¼š
   - æ ¹æ®é”™è¯¯æ—¥å¿—ä¿®å¤
   - æ¨é€æ–°çš„æäº¤
   - CI è‡ªåŠ¨é‡æ–°è¿è¡Œ

6. **åˆå¹¶ PR**ï¼šæ‰€æœ‰æ£€æŸ¥é€šè¿‡åï¼Œå¯ä»¥åˆå¹¶

---

## å¸¸è§é—®é¢˜

### Q1: CI è¿è¡Œæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ

**å½“å‰å¹³å‡æ—¶é—´**ï¼š5-10 åˆ†é’Ÿ

**ä¼˜åŒ–å»ºè®®**ï¼š
- ä½¿ç”¨ pnpm ç¼“å­˜ï¼ˆå·²é…ç½®ï¼‰
- å¹¶è¡Œè¿è¡Œ Jobsï¼ˆå·²é…ç½®ï¼‰
- è·³è¿‡ä¸å¿…è¦çš„æ£€æŸ¥ï¼ˆæŒ‰éœ€é…ç½®ï¼‰

### Q2: CI å¤±è´¥ä½†æœ¬åœ°æµ‹è¯•é€šè¿‡ï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
- ç¯å¢ƒå˜é‡ä¸ä¸€è‡´
- Node.js ç‰ˆæœ¬ä¸åŒ
- ä¾èµ–ç‰ˆæœ¬å†²çª

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ç¡®ä¿ä½¿ç”¨ç›¸åŒçš„ Node.js ç‰ˆæœ¬
node -v  # åº”è¯¥æ˜¯ 20.x

# ç¡®ä¿ä¾èµ–ç‰ˆæœ¬ä¸€è‡´
pnpm install --frozen-lockfile

# æ¸…ç†ç¼“å­˜é‡æ–°æµ‹è¯•
rm -rf .next coverage
pnpm test:coverage
```

### Q3: å¦‚ä½•è·³è¿‡ CI æ£€æŸ¥ï¼Ÿ

**ä¸æ¨èï¼** ä½†ç´§æ€¥æƒ…å†µå¯ä»¥ï¼š

```bash
# åœ¨æäº¤ä¿¡æ¯ä¸­æ·»åŠ  [skip ci]
git commit -m "docs: update README [skip ci]"
```

**æ³¨æ„**ï¼šåªç”¨äºæ–‡æ¡£æ›´æ–°ç­‰ä¸å½±å“ä»£ç çš„å˜æ›´ã€‚

### Q4: å¦‚ä½•å¼ºåˆ¶é‡æ–°è¿è¡Œ CIï¼Ÿ

**æ–¹æ³• 1ï¼šåœ¨ GitHub ç•Œé¢**
1. è¿›å…¥ Actions é¡µé¢
2. ç‚¹å‡»å¤±è´¥çš„å·¥ä½œæµ
3. ç‚¹å‡»å³ä¸Šè§’ "Re-run jobs"

**æ–¹æ³• 2ï¼šæ¨é€ç©ºæäº¤**
```bash
git commit --allow-empty -m "chore: trigger CI"
git push
```

### Q5: è¦†ç›–ç‡ä¸è¾¾æ ‡æ€ä¹ˆåŠï¼Ÿ

**ç›®æ ‡**ï¼š70% è¦†ç›–ç‡

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Šï¼š`open coverage/index.html`
2. æ‰¾åˆ°æœªè¦†ç›–çš„ä»£ç 
3. è¡¥å……æµ‹è¯•ç”¨ä¾‹
4. é‡æ–°è¿è¡Œï¼š`pnpm test:coverage`

**æ’é™¤æŸäº›æ–‡ä»¶**ï¼ˆå¦‚æœç¡®å®ä¸éœ€è¦æµ‹è¯•ï¼‰ï¼š

ç¼–è¾‘ `vitest.config.ts`ï¼š
```typescript
coverage: {
  exclude: [
    // ç°æœ‰æ’é™¤é¡¹...
    "**/your-file.ts"  // æ·»åŠ è¦æ’é™¤çš„æ–‡ä»¶
  ]
}
```

### Q6: å¦‚ä½•è°ƒè¯•æµ‹è¯•ï¼Ÿ

**æ–¹æ³• 1ï¼šä½¿ç”¨ Vitest UI**
```bash
pnpm test:ui
```
- å¯è§†åŒ–ç•Œé¢
- å¯ä»¥æš‚åœå’Œè°ƒè¯•
- æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡

**æ–¹æ³• 2ï¼šä½¿ç”¨ console.log**
```typescript
test('my test', () => {
  console.log('Debug info:', someVariable)
  expect(result).toBe(expected)
})
```

**æ–¹æ³• 3ï¼šä½¿ç”¨ VS Code è°ƒè¯•**
1. å®‰è£… Vitest æ‰©å±•
2. åœ¨æµ‹è¯•æ–‡ä»¶ä¸­è®¾ç½®æ–­ç‚¹
3. ç‚¹å‡» "Debug Test"

### Q7: ç±»å‹é”™è¯¯å¾ˆå¤šæ€ä¹ˆåŠï¼Ÿ

**é¡¹ç›®é…ç½®äº† `ignoreBuildErrors: true`**ï¼Œç±»å‹é”™è¯¯ä¸ä¼šé˜»æ­¢æ„å»ºã€‚

**å»ºè®®**ï¼š
- é€æ­¥ä¿®å¤ç±»å‹é”™è¯¯
- æ–°ä»£ç å¿…é¡»ç±»å‹æ­£ç¡®
- æ—§ä»£ç å¯ä»¥é€æ­¥é‡æ„

**ä¸´æ—¶æŠ‘åˆ¶é”™è¯¯**ï¼ˆä¸æ¨èï¼‰ï¼š
```typescript
// @ts-ignore
const value = dangerousOperation()
```

### Q8: å®‰å…¨å®¡è®¡æœ‰è­¦å‘Šæ€ä¹ˆåŠï¼Ÿ

**æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯**ï¼š
```bash
pnpm audit --prod
```

**ä¿®å¤ç­–ç•¥**ï¼š
- **é«˜å±ï¼ˆHighï¼‰**ï¼šå¿…é¡»ä¿®å¤
- **ä¸­ç­‰ï¼ˆModerateï¼‰**ï¼šå»ºè®®ä¿®å¤
- **ä½å±ï¼ˆLowï¼‰**ï¼šå¯é€‰ä¿®å¤

**ä¿®å¤æ–¹æ³•**ï¼š
```bash
# è‡ªåŠ¨ä¿®å¤ï¼ˆå¯èƒ½ç ´åå…¼å®¹æ€§ï¼‰
pnpm audit fix

# æ‰‹åŠ¨æ›´æ–°ç‰¹å®šåŒ…
pnpm update package-name

# æŸ¥çœ‹å¯ç”¨æ›´æ–°
pnpm outdated
```

---

## æœ€ä½³å®è·µ

### æäº¤å‰æ£€æŸ¥æ¸…å•

- [ ] è¿è¡Œ `pnpm lint` æ— é”™è¯¯
- [ ] è¿è¡Œ `pnpm test` å…¨éƒ¨é€šè¿‡
- [ ] è¿è¡Œ `pnpm test:coverage` è¦†ç›–ç‡ â‰¥ 70%
- [ ] è¿è¡Œ `pnpm build` æ„å»ºæˆåŠŸ
- [ ] æäº¤ä¿¡æ¯éµå¾ª Conventional Commits

### æäº¤ä¿¡æ¯è§„èŒƒ

```
<type>(<scope>): <subject>

<body>

<footer>
```

**Type ç±»å‹**ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£
- `style`: æ ¼å¼
- `refactor`: é‡æ„
- `test`: æµ‹è¯•
- `chore`: æ„å»º/å·¥å…·

**ç¤ºä¾‹**ï¼š
```bash
git commit -m "feat(editor): add image crop feature"
git commit -m "fix(api): resolve CORS issue"
git commit -m "docs(readme): update CI/CD section"
```

### æµ‹è¯•ç¼–å†™è§„èŒƒ

1. **æµ‹è¯•æ–‡ä»¶å‘½å**ï¼š`*.test.ts` æˆ– `*.test.tsx`
2. **æµ‹è¯•ä½ç½®**ï¼š`__tests__/` ç›®å½•æˆ–ä¸æºæ–‡ä»¶åŒçº§
3. **æµ‹è¯•ç»“æ„**ï¼š
```typescript
describe('ComponentName', () => {
  it('should do something', () => {
    // Arrange
    const input = setupTestData()

    // Act
    const result = performAction(input)

    // Assert
    expect(result).toBe(expected)
  })
})
```

---

## å¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `pnpm test` | è¿è¡Œæ‰€æœ‰æµ‹è¯• |
| `pnpm test:coverage` | ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š |
| `pnpm test:watch` | ç›‘å¬æ¨¡å¼ |
| `pnpm test:ui` | UI æ¨¡å¼ |
| `pnpm lint` | ä»£ç æ£€æŸ¥ |
| `pnpm lint --fix` | è‡ªåŠ¨ä¿®å¤ |
| `pnpm build` | ç”Ÿäº§æ„å»º |
| `npx tsc --noEmit` | ç±»å‹æ£€æŸ¥ |
| `pnpm audit --prod` | å®‰å…¨å®¡è®¡ |

### è¦†ç›–ç‡æŠ¥å‘Šä½ç½®

| æ ¼å¼ | ä½ç½® |
|------|------|
| **HTML** | `coverage/index.html` |
| **LCOV** | `coverage/lcov.info` |
| **JSON** | `coverage/coverage-final.json` |
| **æ–‡æœ¬** | ç»ˆç«¯è¾“å‡º |

---

## ç›¸å…³æ–‡æ¡£

- [CI_CD_IMPLEMENTATION_PLAN.md](./CI_CD_IMPLEMENTATION_PLAN.md) - å®æ–½æ–¹æ¡ˆ
- [CONTRIBUTING.md](./CONTRIBUTING.md) - è´¡çŒ®æŒ‡å—
- [README.md](./README.md) - é¡¹ç›®æ¦‚è¿°

---

## è·å–å¸®åŠ©

**é‡åˆ°é—®é¢˜ï¼Ÿ**

1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"ç« èŠ‚
2. æŸ¥çœ‹ GitHub Actions æ—¥å¿—
3. æœç´¢ç›¸å…³ Issue
4. åˆ›å»ºæ–°çš„ Issue

**åˆ›å»º Issue**ï¼š
```bash
gh issue create --title "CI: your issue title" --body "æè¿°é—®é¢˜..."
```

---

**è€ç‹æé†’**ï¼šCI/CD è™½ç„¶é…ç½®å¤æ‚ï¼Œä½†ç”¨èµ·æ¥å¾ˆç®€å•ï¼é‡åˆ°é—®é¢˜å…ˆçœ‹æ—¥å¿—ï¼Œ90% çš„é—®é¢˜éƒ½èƒ½è‡ªå·±è§£å†³ï¼
